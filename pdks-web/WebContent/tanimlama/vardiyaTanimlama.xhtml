<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:c="http://java.sun.com/jstl/core" template="/layout/template.xhtml">
	<ui:define name="title">
		<h:outputText value="#{ortakIslemler.getMenuAdi('vardiyaTanimlama')}" />
	</ui:define>
	<ui:define name="body">

		<h:form>
			<a4j:region>
				<rich:panel style="vardiyaGun" header="#{ortakIslemler.getMenuUserAdi(vardiyaHome.session,'vardiyaTanimlama')}">
					<a4j:outputPanel id="anaForm">
						<h:panelGrid columns="1">
							<c:if test="#{authenticatedUser.admin}">
								<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.pdksSirketIdList.size() gt 0}">
									<ui:define name="label">#{ortakIslemler.sirketAciklama()}</ui:define>
									<h:selectOneMenu value="#{vardiyaHome.seciliSirketId}">
										<f:selectItem itemLabel="Lütfen seçiniz" />
										<f:selectItems value="#{vardiyaHome.pdksSirketIdList}" />
										<a4j:support event="onchange" reRender="anaForm" status="ajaxStatus" ajaxSingle="true" action="#{vardiyaHome.fillVardiyalar()}" />
									</h:selectOneMenu>
								</s:decorate>
								<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.pasifGoster != null}">
									<ui:define name="label">Pasif Göster</ui:define>
									<h:selectBooleanCheckbox value="#{vardiyaHome.pasifGoster}">
										<a4j:support event="onclick" status="ajaxStatus" ajaxSingle="true" reRender="anaForm" action="#{vardiyaHome.fillVardiyalar()}" />
									</h:selectBooleanCheckbox>


								</s:decorate>
							</c:if>
							<ui:fragment rendered="#{not empty vardiyaHome.vardiyaList}">
								<h:commandLink value="Excel" action="#{vardiyaHome.excelAktar()}" target="blank">
									<a4j:support event="oncomplete" status="ajaxStatus" process="vardiyaTable" reRender="vardiyaTable" />
								</h:commandLink>

							</ui:fragment>
							<rich:dataTable rowClasses="acik,koyu" value="#{vardiyaHome.vardiyaList}" var="vardiya" rows="25" rowKeyVar="row" id="vardiyaTable">
								<f:facet name="header">
									<h:outputText value="Vardiyalar" />
								</f:facet>
								<rich:column>
									<f:facet name="header">
                       		 İşlemler
               			 </f:facet>
									<a4j:commandLink status="ajaxStatus" ajaxSingle="true" id="editlink" action="#{vardiyaHome.kayitGuncelle(vardiya)}"
										oncomplete="#{rich:component('editPanel')}.show()" reRender="editPanel">
										<h:graphicImage value="/img/edit.gif" style="border:0" />
									</a4j:commandLink>
									<rich:toolTip for="editlink" value="Güncelle" />
									<a4j:commandLink status="ajaxStatus" ajaxSingle="true" id="copylink" action="#{vardiyaHome.kayitKopyala(vardiya)}"
										oncomplete="#{rich:component('editPanel')}.show()" reRender="editPanel">
										<h:graphicImage value="/img/onetomany.gif" style="border:0" />
									</a4j:commandLink>
									<rich:toolTip for="copylink" value="Kopyala" />
								</rich:column>

								<rich:column rendered="#{authenticatedUser.admin or authenticatedUser.IKAdmin}">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.vardiyaAciklama()} Id" />
									</f:facet>
									<h:outputText value="#{vardiya.id}" />
								</rich:column>
								<rich:column filterBy="#{vardiya.adi}" filterEvent="onkeyup">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.vardiyaAciklama()} Adı" />
									</f:facet>
									<h:outputText value="#{vardiya.adi}" id="vardiyaAdi" />
								</rich:column>
								<rich:column filterBy="#{vardiya.kisaAdi}" filterEvent="onkeyup">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.vardiyaAciklama()} Kısa Adı" />
									</f:facet>
									<h:outputText value="#{vardiya.kisaAdi}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.sirketGoster}">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.sirketAciklama()}" />
									</f:facet>
									<h:outputText value="#{vardiya.sirket.ad}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.tesisGoster}">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.tesisAciklama()}" />
									</f:facet>
									<h:outputText value="#{vardiya.tesis.aciklama}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Ekran Sıra" />
									</f:facet>
									<h:outputText value="#{vardiya.ekranSira}" />
								</rich:column>
								<rich:column rendered="#{authenticatedUser.admin}">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.vardiyaAciklama()} Sınıf Adı" />
									</f:facet>
									<h:outputText value="#{vardiya.styleClass}" />
								</rich:column>
								<rich:column rendered="#{authenticatedUser.admin or authenticatedUser.IKAdmin}">
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.firmaKaynagiAciklama()}" />
									</f:facet>
									<h:outputText value="#{vardiya.departman.departmanTanim.aciklama}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="#{ortakIslemler.vardiyaAciklama()} Tipi" />
									</f:facet>
									<h:outputText value="#{vardiya.vardiyaTipiAciklama}" id="vardiyaTipiAciklama" />
								</rich:column>
								<rich:column rendered="#{authenticatedUser.admin or authenticatedUser.IKAdmin}">
									<f:facet name="header">
										<h:outputText value="Net Çalışma Süresi" />
									</f:facet>
									<ui:fragment rendered="#{vardiya.calisma}">
										<h:outputText value="#{authenticatedUser.sayiFormatliGoster(vardiya.netCalismaSuresi)}" />
									</ui:fragment>

								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Toplam Saat" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.sayiFormatliGoster(vardiya.calismaSaati)}" id="calismaSaati" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Çalışma Şekli" />
									</f:facet>
									<ui:fragment rendered="#{vardiya.calismaSekli != null}">
										<h:outputText value="#{vardiya.calismaSekli.adi}" />

									</ui:fragment>

									<h:graphicImage id="bilgiLink" value="/img/msginfo.png" />
									<rich:toolTip for="bilgiLink">
										<s:formattedText value="#{vardiyaHome.getArifeMesaiAciklama(vardiya)}" />
										<ui:fragment rendered="#{vardiya.yemekIzinList != null}">
											<br />
											<b>Yemek molaları</b>
											<a4j:repeat value="#{vardiya.yemekIzinList}" var="yemek">
												<br />#{yemek.yemekAciklama}  #{authenticatedUser.timeFormatla(yemek.basZaman)} : #{authenticatedUser.timeFormatla(yemek.bitZaman)} #{authenticatedUser.sayiFormatliGoster(yemek.maxSure)} dakika
										</a4j:repeat>
										</ui:fragment>

									</rich:toolTip>

								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Arife Normal Çalışma Süresi" />
									</f:facet>
									<ui:fragment rendered="#{vardiya.arifeNormalCalismaDakika>0}">
										<h:outputText value="#{authenticatedUser.sayiFormatliGoster(vardiya.arifeNormalCalismaDakika)}" />
									</ui:fragment>

								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Gün Sayısı" />
									</f:facet>
									<h:outputText value="#{vardiya.calismaGun}" id="calismaGun" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Çalışma Aralığı" />
									</f:facet>
									<ui:fragment rendered="#{vardiya.calisma}">
									#{authenticatedUser.timeFormatla(vardiya.basZaman)} - #{authenticatedUser.timeFormatla(vardiya.bitZaman)}
								</ui:fragment>
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Yemek Süresi (Dakika)" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{authenticatedUser.sayiFormatliGoster(vardiya.yemekSuresi)}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Tolerans erken giriş dakikası" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{vardiya.girisErkenToleransDakika}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Tolerans gecikme giriş dakikası" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{vardiya.girisGecikmeToleransDakika}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Tolerans erken çıkış dakikası" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{vardiya.cikisErkenToleransDakika}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Tolerans gecikme çıkış dakikası" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{vardiya.cikisGecikmeToleransDakika}" />
								</rich:column>

								<rich:column>
									<f:facet name="header">
										<h:outputText value="Çıkış Mola Süresi(Dakika)" />
									</f:facet>
									<h:outputText rendered="#{vardiya.calisma}" value="#{authenticatedUser.sayiFormatliGoster(vardiya.cikisMolaSaat)}" />
								</rich:column>

								<rich:column>
									<f:facet name="header">
										<h:outputText value="Akşam #{ortakIslemler.vardiyaAciklama()}" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.aksamVardiya)}" />
								</rich:column>
								<rich:column rendered="#{authenticatedUser.admin or authenticatedUser.IKAdmin}">
									<f:facet name="header">
										<h:outputText value="Genel" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.genel)}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.icapVardiyaGoster and (authenticatedUser.admin or authenticatedUser.IKAdmin)}">
									<f:facet name="header">
										<h:outputText value="İcap #{ortakIslemler.vardiyaAciklama()}" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.icapVardiya)}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.suaGoster and (authenticatedUser.admin or authenticatedUser.IKAdmin)}">
									<f:facet name="header">
										<h:outputText value="Şua #{ortakIslemler.vardiyaAciklama()}" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.sua)}" />
								</rich:column>


								<rich:column rendered="#{vardiyaHome.gebelikGoster and (authenticatedUser.admin or authenticatedUser.IKAdmin)}">
									<f:facet name="header">
										<h:outputText value="Gebeler İçin" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.gebelik)}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.sutIzniGoster and (authenticatedUser.admin or authenticatedUser.IKAdmin)}">
									<f:facet name="header">
										<h:outputText value="Süt İzni İçin" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.sutIzni)}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="FÇS Ödenir" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.fcsDahil)}" />
								</rich:column>

								<rich:column>
									<f:facet name="header">
										<h:outputText value="Mesai Ödenir" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.mesaiOdenir)}" />
								</rich:column>
								<rich:column rendered="#{vardiyaHome.pasifGoster}">
									<f:facet name="header">
										<h:outputText value="Aktif" />
									</f:facet>
									<h:outputText value="#{authenticatedUser.getYesNo(vardiya.durum)}" />
								</rich:column>


								<rich:column>
									<f:facet name="header">
										<h:outputText value="Son İşlem Yapan" />
									</f:facet>
									<h:outputText value="#{vardiya.sonIslemYapan.adSoyad}" />
								</rich:column>

								<rich:column>
									<f:facet name="header">
										<h:outputText value="Son İşlem Tarihi" />
									</f:facet>
									<h:outputText value="#{vardiya.sonIslemTarihiStr}" />
								</rich:column>

								<f:facet name="footer">
									<rich:datascroller renderIfSinglePage="false" maxPages="5" />
								</f:facet>
							</rich:dataTable>
							<a4j:commandButton status="ajaxStatus" value="#{ortakIslemler.vardiyaAciklama()} Ekle" action="#{vardiyaHome.kayitGuncelle(null)}"
								oncomplete="#{rich:component('editPanel')}.show()" reRender="editPanel">
								<f:setPropertyActionListener value="#{vardiya}" target="#{vardiyaHome.seciliVardiya}">
									<s:convertEntity />
								</f:setPropertyActionListener>
							</a4j:commandButton>

							<rich:toolTip for="addlink" value="Add" />

						</h:panelGrid>
					</a4j:outputPanel>


				</rich:panel>
			</a4j:region>
		</h:form>

		<rich:modalPanel id="editPanel" autosized="true" width="900">
			<f:facet name="header">
				<h:outputText value="Güncelle vardiya" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:form>
						<h:graphicImage value="/img/close.png" id="hidelink" styleClass="hidelink">
							<a4j:support event="onclick" action="#{vardiyaHome.instanceRefresh()}" reRender="vardiyaTable"
								oncomplete="if (#{facesContext.maximumSeverity == null}) #{rich:component('editPanel')}.hide();" ajaxSingle="true" />
						</h:graphicImage>
					</h:form>
				</h:panelGroup>
			</f:facet>
			<h:form>
				<h:panelGrid columns="1">
					<a4j:outputPanel ajaxRendered="true">
						<h:messages id="messages" styleClass="message" errorClass="errormsg" infoClass="infomsg" warnClass="warnmsg" />
					</a4j:outputPanel>
					<a4j:outputPanel id="vardiyaEdit">
						<h:panelGrid columns="1" width="800">
							<s:decorate template="/layout/edit.xhtml" id="adi">
								<ui:define name="label">#{ortakIslemler.vardiyaAciklama()} adı</ui:define>
								<h:inputText required="true" value="#{vardiyaHome.seciliVardiya.adi}" size="35"
									requiredMessage="#{ortakIslemler.vardiyaAciklama()} adını giriniz">
									<a4j:support event="onchange" reRender="adi" status="ajaxStatus" ajaxSingle="true" action="#{ortakIslemler.emtpyAjaxFunction()}" />
								</h:inputText>
							</s:decorate>
							<s:decorate template="/layout/edit.xhtml" id="kisaAdi">
								<ui:define name="label">#{ortakIslemler.vardiyaAciklama()} kısa adı</ui:define>
								<h:inputText value="#{vardiyaHome.seciliVardiya.kisaAdi}" size="4" maxlength="16">
									<a4j:support event="onchange" reRender="kisaAdi" status="ajaxStatus" ajaxSingle="true" action="#{ortakIslemler.emtpyAjaxFunction()}" />
								</h:inputText>

							</s:decorate>
							<s:decorate template="/layout/edit.xhtml" rendered="#{not empty vardiyaHome.vardiyaTipiList}">
								<ui:define name="label">#{ortakIslemler.vardiyaAciklama()} Tipi</ui:define>
								<h:selectOneMenu value="#{vardiyaHome.seciliVardiya.tipi}" rendered="#{authenticatedUser.admin == false}">
									<f:selectItem itemLabel="Lütfen seçiniz" />
									<f:selectItems value="#{vardiyaHome.vardiyaTipiList}" />
									<a4j:support event="onchange" reRender="saatler,vardiyaEdit" status="ajaxStatus" ajaxSingle="true" />
								</h:selectOneMenu>
								<h:outputText value="#{vardiyaHome.seciliVardiya.vardiyaTipiAciklama}" rendered="#{authenticatedUser.admin == false}" />
							</s:decorate>
							<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.seciliVardiya.izin}">
								<ui:define name="label">İzin Tipi</ui:define>
								<h:selectOneMenu required="true" value="#{vardiyaHome.seciliVardiya.styleClass}" disabled="#{authenticatedUser.admin == true}"
									requiredMessage="İzin tipini seçiniz">
									<f:selectItem itemLabel="Lütfen seçiniz" />
									<f:selectItems value="#{vardiyaHome.izinTipiList}" />
									<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
								</h:selectOneMenu>

							</s:decorate>
							<a4j:outputPanel id="saatler">

								<h:panelGrid width="800" rendered="#{vardiyaHome.seciliVardiya.calisma or vardiyaHome.seciliVardiya.izin }">
									<h:panelGrid columns="2" cellpadding="0" cellspacing="0" width="800">

										<c:if test="#{vardiyaHome.seciliVardiya.calisma}">
											<s:decorate template="/layout/edit.xhtml">

												<ui:define name="label">Başlangıç saati - dakikası</ui:define>
												<TABLE>
													<TR>
														<TD><rich:inputNumberSpinner minValue="0" maxValue="23" inputSize="2" value="#{vardiyaHome.seciliVardiya.basSaat}">
																<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
															</rich:inputNumberSpinner></TD>
														<TD>:</TD>
														<TD><rich:inputNumberSpinner minValue="0" maxValue="59" inputSize="2" value="#{vardiyaHome.seciliVardiya.basDakika}">
																<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
															</rich:inputNumberSpinner></TD>
													</TR>
												</TABLE>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Bitiş saati - dakikası</ui:define>
												<TABLE>
													<TR>
														<TD><rich:inputNumberSpinner minValue="0" maxValue="23" inputSize="2" value="#{vardiyaHome.seciliVardiya.bitSaat}">
																<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
															</rich:inputNumberSpinner></TD>
														<TD>:</TD>
														<TD><rich:inputNumberSpinner minValue="0" maxValue="59" inputSize="2" value="#{vardiyaHome.seciliVardiya.bitDakika}">
																<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
															</rich:inputNumberSpinner></TD>
													</TR>
												</TABLE>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Yemek Süresi (Dakika)</ui:define>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.yemekSuresiKontrolEt}">
													<rich:inputNumberSpinner value="#{vardiyaHome.seciliVardiya.yemekSuresi}" minValue="0" maxValue="1440" inputSize="4" step="15" />
												</ui:fragment>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.yemekSuresiKontrolEt==false}">
													<h:outputText value="#{vardiyaHome.seciliVardiya.yemekSuresi}" />
												</ui:fragment>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Çıkış Mola Süresi (Dakika)</ui:define>
												<h:inputText value="#{vardiyaHome.seciliVardiya.cikisMolaSaat}" size="2">
													<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
												</h:inputText>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Tolerans erken giriş dakikası</ui:define>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.girisErkenKontrolEt}">
													<rich:inputNumberSpinner minValue="0" maxValue="120" inputSize="2" value="#{vardiyaHome.seciliVardiya.girisErkenToleransDakika}" />
												</ui:fragment>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.girisErkenKontrolEt==false}">
													<h:outputText value="#{vardiyaHome.seciliVardiya.girisErkenToleransDakika}" />
												</ui:fragment>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Tolerans gecikme giriş dakikası</ui:define>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.girisGecikmeKontrolEt}">
													<rich:inputNumberSpinner minValue="0" maxValue="120" inputSize="2" value="#{vardiyaHome.seciliVardiya.girisGecikmeToleransDakika}" />
												</ui:fragment>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.girisGecikmeKontrolEt==false}">
													<h:outputText value="#{vardiyaHome.seciliVardiya.girisGecikmeToleransDakika}" />
												</ui:fragment>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Tolerans erken çıkış dakikası</ui:define>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.cikisErkenKontrolEt}">
													<rich:inputNumberSpinner minValue="0" maxValue="120" inputSize="2" value="#{vardiyaHome.seciliVardiya.cikisErkenToleransDakika}" />
												</ui:fragment>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.cikisErkenKontrolEt==false}">
													<h:outputText value="#{vardiyaHome.seciliVardiya.cikisErkenToleransDakika}" />
												</ui:fragment>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Tolerans gecikme çıkış dakikası</ui:define>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.cikisGecikmeKontrolEt}">
													<rich:inputNumberSpinner minValue="0" maxValue="120" inputSize="2" value="#{vardiyaHome.seciliVardiya.cikisGecikmeToleransDakika}" />
												</ui:fragment>
												<ui:fragment rendered="#{vardiyaHome.seciliVardiya.cikisGecikmeKontrolEt==false}">
													<h:outputText value="#{vardiyaHome.seciliVardiya.cikisGecikmeToleransDakika}" />
												</ui:fragment>
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Haftalık Toplam Saat</ui:define>
												<h:inputText required="true" value="#{vardiyaHome.seciliVardiya.calismaSaati}" size="2" requiredMessage="Haftalık toplam saati giriniz" />
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Gün Sayısı</ui:define>
												<h:inputText required="true" value="#{vardiyaHome.seciliVardiya.calismaGun}" size="1" requiredMessage="Gün sayısı giriniz" />
											</s:decorate>


											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Akşam #{ortakIslemler.vardiyaAciklama()} Mı?</ui:define>
												<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.aksamVardiya}" />
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml" id="calismaSekli">
												<ui:define name="label">Çalışma Şekli</ui:define>
												<h:selectOneMenu value="#{vardiyaHome.seciliVardiya.calismaSekliId}"
													required="#{vardiyaHome.seciliVardiya.calismaSekliId != null or vardiyaHome.seciliVardiya.arifeNormalCalismaDakika>0}"
													requiredMessage="Çalışma şekli seçiniz">
													<f:selectItem itemLabel="Lütfen seçiniz" />
													<f:selectItems value="#{vardiyaHome.calismaSekliIdList}" />
													<a4j:support event="onchange" reRender="calismaSekli" status="ajaxStatus" ajaxSingle="true" action="#{ortakIslemler.emtpyAjaxFunction()}" />
												</h:selectOneMenu>

												<h:graphicImage id="bilgiLink1" value="/img/msginfo.png" />
												<rich:toolTip for="bilgiLink1">
													<s:formattedText value="#{vardiyaHome.getArifeMesaiAciklama(vardiyaHome.seciliVardiya)}" />
												</rich:toolTip>

											</s:decorate>
											<s:decorate template="/layout/edit.xhtml" rendered="#{authenticatedUser.admin}">
												<ui:define name="label">#{ortakIslemler.vardiyaAciklama()} sınıf adı</ui:define>
												<h:inputText value="#{vardiyaHome.seciliVardiya.styleClass}" size="8" />
											</s:decorate>
											<s:decorate template="/layout/edit.xhtml">

												<ui:define name="label">Ekran Sıra</ui:define>
												<rich:inputNumberSpinner minValue="0" maxValue="9995" step="5" inputSize="5" value="#{vardiyaHome.seciliVardiya.ekranSira}" />
											</s:decorate>

											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Arife Normal Çalışma(Dakika)</ui:define>
												<h:inputText value="#{vardiyaHome.seciliVardiya.arifeNormalCalismaDakika}"
													required="#{vardiyaHome.seciliVardiya.calismaSekli != null or vardiyaHome.seciliVardiya.arifeNormalCalismaDakika>0}"
													requiredMessage="Arife Normal Çalışma giriniz" size="2">
													<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true" />
												</h:inputText>
											</s:decorate>
											<s:decorate template="/layout/edit.xhtml">
												<ui:define name="label">Genel</ui:define>
												<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.genel}">
													<a4j:support event="onclick" reRender="saatler" status="ajaxStatus" ajaxSingle="true"
														action="#{vardiyaHome.izinVardiyalariGetir(vardiyaHome.seciliVardiya)}" />
												</h:selectBooleanCheckbox>
											</s:decorate>


											<c:if test="#{vardiyaHome.seciliVardiya.genel == false}">
												<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.seciliVardiya.departman.admin}">
													<ui:define name="label">İcap #{ortakIslemler.vardiyaAciklama()} Mı?</ui:define>
													<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.icapVardiya}" />
												</s:decorate>
												<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.seciliVardiya.departman.admin}">
													<ui:define name="label">Şua #{ortakIslemler.vardiyaAciklama()} Mı?</ui:define>
													<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.sua}" />
												</s:decorate>


												<s:decorate template="/layout/edit.xhtml">
													<ui:define name="label">Gebeler İçin</ui:define>
													<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.gebelik}" />
												</s:decorate>
												<s:decorate template="/layout/edit.xhtml">
													<ui:define name="label">Süt İzni İçin</ui:define>
													<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.sutIzni}" />
												</s:decorate>
											</c:if>
											<s:decorate template="/layout/edit.xhtml" rendered="#{ortakIslemler.getParameterKey('isKurCalismaPlani') != '1'}">
												<ui:define name="label">Mesai Ödenir</ui:define>
												<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.mesaiOde}" />
											</s:decorate>
											<s:decorate template="/layout/edit.xhtml" rendered="#{ortakIslemler.getParameterKey('isKurCalismaPlani') != '1'}">
												<ui:define name="label">FÇS Ödeme</ui:define>
												<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.fcsHaric}" />
											</s:decorate>

										</c:if>
									</h:panelGrid>

									<h:panelGrid columns="2" id="sirketBilgi">
										<s:decorate template="/layout/edit.xhtml" rendered="#{vardiyaHome.sirketIdList != null}">
											<ui:define name="label">#{ortakIslemler.sirketAciklama()}</ui:define>
											<h:selectOneMenu value="#{vardiyaHome.seciliVardiya.sirketId}">
												<f:selectItem itemLabel="Lütfen seçiniz" />
												<f:selectItems value="#{vardiyaHome.sirketIdList}" />
												<a4j:support event="onchange" action="#{vardiyaHome.tesisDoldur(true,vardiyaHome.seciliVardiya)}"
													reRender="modeller,sirketBilgi,saatler" status="ajaxStatus" ajaxSingle="true" />

											</h:selectOneMenu>

										</s:decorate>
										<s:decorate template="/layout/edit.xhtml" rendered="#{authenticatedUser.admin and not empty vardiyaHome.tesisIdList}">
											<ui:define name="label">#{ortakIslemler.tesisAciklama()}</ui:define>
											<h:selectOneMenu value="#{vardiyaHome.seciliVardiya.tesisId}" disabled="#{vardiyaHome.tesisIdList.size() == 1}">
												<f:selectItem itemLabel="Lütfen seçiniz" />
												<f:selectItems value="#{vardiyaHome.tesisIdList}" />
												<a4j:support event="onchange" action="#{vardiyaHome.fillCalismaModeliList(vardiyaHome.seciliVardiya)}" reRender="sirketBilgi,modeller"
													status="ajaxStatus" ajaxSingle="true" />

											</h:selectOneMenu>
										</s:decorate>
									</h:panelGrid>

									<a4j:outputPanel id="modeller">


										<rich:simpleTogglePanel rendered="#{vardiyaHome.calismaModeliList.size()+vardiyaHome.calismaModeliKayitliList.size()>0}" switchType="client"
											label="Çalışma Modelleri" height="110" opened="true">

											<rich:listShuttle sourceValue="#{vardiyaHome.calismaModeliList}" fastOrderControlsVisible="false" orderControlsVisible="false"
												targetValue="#{vardiyaHome.calismaModeliKayitliList}" var="calismaModeli"
												copyControlLabel="#{messages['listShuttle.etiket.copyControlLabel']}"
												removeControlLabel="#{messages['listShuttle.etiket.removeControlLabel']}"
												copyAllControlLabel="#{messages['listShuttle.etiket.copyAllControlLabel']}"
												removeAllControlLabel="#{messages['listShuttle.etiket.removeAllControlLabel']}" required="true"
												requiredMessage="#{ortakIslemler.calismaModeliAciklama()} seçiniz">
												<h:column>
													<h:outputText value="#{calismaModeli.aciklama}" />
												</h:column>
												<s:convertEntity />
											</rich:listShuttle>

										</rich:simpleTogglePanel>
									</a4j:outputPanel>
									<rich:simpleTogglePanel rendered="#{vardiyaHome.yemekIzinList.size()+ vardiyaHome.yemekIzinKayitliList.size()>1}" switchType="client"
										label="Dinlenmeler" height="110" opened="true">

										<rich:listShuttle sourceValue="#{vardiyaHome.yemekIzinList}" fastOrderControlsVisible="false" orderControlsVisible="false"
											targetValue="#{vardiyaHome.yemekIzinKayitliList}" var="yemekIzin" copyControlLabel="#{messages['listShuttle.etiket.copyControlLabel']}"
											removeControlLabel="#{messages['listShuttle.etiket.removeControlLabel']}"
											copyAllControlLabel="#{messages['listShuttle.etiket.copyAllControlLabel']}"
											removeAllControlLabel="#{messages['listShuttle.etiket.removeAllControlLabel']}" required="true" requiredMessage="Yemek mola seçiniz">
											<h:column>
												<h:outputText value="#{yemekIzin.yemekAciklama}" />
											</h:column>
											<s:convertEntity />
										</rich:listShuttle>

									</rich:simpleTogglePanel>
								</h:panelGrid>


							</a4j:outputPanel>

						</h:panelGrid>
						<c:if test="#{vardiyaHome.seciliVardiya.calisma or vardiyaHome.seciliVardiya.izinVardiya or vardiyaHome.seciliVardiya.FMI}">

							<s:decorate template="/layout/edit.xhtml" rendered="#{authenticatedUser.admin and vardiyaHome.departmanIdList.size()>1}">
								<ui:define name="label">#{ortakIslemler.firmaKaynagiAciklama()}</ui:define>
								<h:selectOneMenu value="#{vardiyaHome.seciliVardiya.departmanId}">
									<f:selectItem itemLabel="Lütfen seçiniz" />
									<f:selectItems value="#{vardiyaHome.departmanIdList}" />
									<a4j:support event="onchange" reRender="saatler" status="ajaxStatus" ajaxSingle="true"
										action="#{vardiyaHome.izinVardiyalariGetir(vardiyaHome.seciliVardiya)}" />
								</h:selectOneMenu>
							</s:decorate>
							<s:decorate template="/layout/edit.xhtml">
								<ui:define name="label">Aktif</ui:define>
								<h:selectBooleanCheckbox value="#{vardiyaHome.seciliVardiya.durum}" />
							</s:decorate>
						</c:if>

					</a4j:outputPanel>
					<!--  -->

					<a4j:commandButton status="ajaxStatus" value="Kaydet" action="#{vardiyaHome.save}" reRender="vardiyaTable"
						oncomplete="if (#{facesContext.maximumSeverity == null}) #{rich:component('editPanel')}.hide();" />



				</h:panelGrid>
			</h:form>
		</rich:modalPanel>


	</ui:define>

</ui:composition>
