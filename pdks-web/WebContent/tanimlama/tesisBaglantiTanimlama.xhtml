<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j" template="/layout/template.xhtml">
	<ui:define name="title">
		<h:outputText value="#{ortakIslemler.getMenuAdi('tesisBaglantiTanimlama')}" />
	</ui:define>
	<ui:define name="body">

		<h:form>
			<a4j:region>
				<rich:panel header="#{ortakIslemler.getMenuUserAdi(tesisBaglantiHome.session,'tesisBaglantiTanimlama')}">
					<a4j:outputPanel id="tesisler">
						<table width="%90">
							<tr>
								<td valign="top" width="%50"><s:decorate template="/layout/edit.xhtml">
										<ui:define name="label">#{ortakIslemler.tesisAciklama()}</ui:define>

										<h:selectOneMenu value="#{tesisBaglantiHome.tesis}">
											<s:selectItems var="comp" value="#{tesisBaglantiHome.tesisList}" label="#{comp.aciklama}" noSelectionLabel="Lütfen seçiniz" />
											<a4j:support event="onchange" action="#{tesisBaglantiHome.tesisGuncelle()}" reRender="tesisler" status="ajaxStatus" />
											<s:convertEntity />
										</h:selectOneMenu>
									</s:decorate></td>
								<td valign="top" width="%50">
									<DIV class="#{authenticatedUser.scroolClass}" id="#{authenticatedUser.scroolDiv}" width="%100">
										<ui:fragment rendered="#{not empty tesisBaglantiHome.tesisBaglantiList}">
											<a4j:commandButton value="Kaydet" action="#{tesisBaglantiHome.kaydet()}" reRender="tesisler" />
											<rich:dataTable rowClasses="acik,koyu" value="#{tesisBaglantiHome.tesisBaglantiList}" var="tb" rows="50" rowKeyVar="row"
												id="tesisBaglantiTable" style="width=:%100">
												<f:facet name="header">
													<ui:fragment>#{tesisBaglantiHome.tesis.aciklama} Bağlanacak #{ortakIslemler.tesisAciklama()}</ui:fragment>
												</f:facet>
												<rich:column style="text-align: center;">
													<f:facet name="header">İşlemler</f:facet>
													<h:selectBooleanCheckbox value="#{tb.checkBoxDurum}" />
												</rich:column>


												<rich:column>
													<f:facet name="header">
									#{ortakIslemler.tesisAciklama()}
								</f:facet>
													<ui:fragment rendered="#{tb.id==null}">
														<h:outputText value="#{tb.tesisBaglanti.aciklama}" />
													</ui:fragment>
													<ui:fragment rendered="#{tb.id!=null}">
														<b><h:outputText value="#{tb.tesisBaglanti.aciklama}" /></b>
													</ui:fragment>
												</rich:column>

												<rich:column>
													<f:facet name="header">Personel Tipi</f:facet>
													<DIV id="tipi#{tb.tesisBaglanti.id}">
														<h:selectOneMenu value="#{tb.tipi}">
															<f:selectItem itemLabel="Lütfen seçiniz" />
															<f:selectItems value="#{tesisBaglantiHome.personelTipiList}" />
															<a4j:support event="onchange" status="ajaxStatus" reRender="tipi#{tb.tesisBaglanti.id}" />
														</h:selectOneMenu>
													</DIV>
												</rich:column>
												<f:facet name="footer">
													<rich:datascroller renderIfSinglePage="false" maxPages="5" />
												</f:facet>
											</rich:dataTable>
										</ui:fragment>

									</DIV>
								</td>
							</tr>
						</table>

					</a4j:outputPanel>

				</rich:panel>
			</a4j:region>
		</h:form>





	</ui:define>

</ui:composition>
