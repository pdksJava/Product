<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:a4j="http://richfaces.org/a4j" xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" xmlns:c="http://java.sun.com/jstl/core" template="layout/template.xhtml">
	<ui:define name="title">
		<h:outputText value="Login" />
	</ui:define>
	<ui:define name="body">

		<h:form id="login">


			<rich:panel>

				<f:facet name="header">Giriş</f:facet>
				<a4j:outputPanel ajaxRendered="true">
					<h:messages id="messages" styleClass="message" globalOnly="true" errorClass="errormsg" infoClass="infomsg" warnClass="warnmsg" />
				</a4j:outputPanel>


				<div class="dialog" style="height: 350px">
					<a4j:outputPanel id="login">
						<h:panelGrid id="sifre" columns="2" rowClasses="prop" columnClasses="name,value">
							<h:outputLabel for="username">Kullanıcı adı</h:outputLabel>
							<h:inputText id="username" value="#{credentials.username}" size="128" required="true" requiredMessage="Kullanıcı adı giriniz" />
							<h:outputLabel for="password">Şifre</h:outputLabel>
							<h:inputSecret id="password" value="#{credentials.password}" size="64" disabled="#{passwordSecurity.forgot}"
								required="#{passwordSecurity.forgot==false}" requiredMessage="Şifre giriniz" />

						</h:panelGrid>

						<h:panelGrid columns="2" width="350px">
							<s:decorate template="/layout/edit.xhtml">
								<ui:define name="label">Beni hatırla</ui:define>
								<h:selectBooleanCheckbox id="rememberMe" value="#{identity.rememberMe}" />
							</s:decorate>
							<s:decorate template="/layout/edit.xhtml" rendered="#{ortakIslemler.getParameterKeyHasStringValue('sifremiUnuttum')}">
								<ui:define name="label">Şifremi Unuttum</ui:define>
								<h:selectBooleanCheckbox id="forgotPassword" value="#{passwordSecurity.forgot}">
									<a4j:support event="onclick" reRender="login" ajaxSingle="true" status="ajaxStatus" action="#{ortakIslemler.emtpyAjaxFunction()}" />
								</h:selectBooleanCheckbox>
							</s:decorate>
						</h:panelGrid>
					</a4j:outputPanel>

					<a4j:commandButton status="ajaxStatus" value="Şifremi Unuttum" action="#{identity.login}" rendered="#{passwordSecurity.forgot}"
						reRender="login,sifre,durum">
						<s:defaultAction />
					</a4j:commandButton>
					<a4j:commandButton status="ajaxStatus" value="Sisteme Giriş" action="#{identity.login}" rendered="#{passwordSecurity.forgot==false}"
						reRender="login,sifre,durum">
						<s:defaultAction />
					</a4j:commandButton>
					<a4j:outputPanel id="durum">
						<ui:fragment rendered="#{mesajList.size() gt 1}">
							<table>
								<a4j:repeat value="#{mesajList}" var="msg">
									<tr>
										<td width="15%" align="right"><h:graphicImage height="24" value="/img/#{msg.checked}" /></td>
										<td width="85%" style="font-size:12px; color:#{msg.selected};">#{msg.value}</td>
									</tr>
								</a4j:repeat>
							</table>
						</ui:fragment>
					</a4j:outputPanel>
				</div>



			</rich:panel>



		</h:form>


	</ui:define>
</ui:composition>
